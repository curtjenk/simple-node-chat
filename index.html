<!DOCTYPE html>
<html>

<head>
    <title>Simple Chat</title>
    <script type="text/javascript" src="/socket.io/socket.io.js"></script>
    <script type="text/javascript">
    // var socketio = io.connect('10.150.51.180:' + port);
     //var socketio = io.connect('192.168.0.107:' + port);
    var socketio = io.connect('https://fast-everglades-65718.herokuapp.com') // + port);
        // console.log(socketio);

    /// get/receive the message from the server
    socketio.on('message_to_client', function(data) {
        console.log(data);
        document.getElementById('chat-window').innerHTML += '<div class="im">' + data.date + ' -> ' + data.name + ' -> ' + data.message + '</div>';
    });

    ///send message to the server
    function sendMessage() {
        event.preventDefault();
        var message = document.getElementById('message').value;
        var name = document.getElementById('name').value;
        if (name === '') {
            alert('please enter your name');
            return;
        }
        socketio.emit('message_to_server', {
            message: message,
            name: name
        });
        document.getElementById('message').value = '';
    }
    </script>
    <!-- <link rel="stylesheet" type="text/css" href="node_modules/bootstrap/dist/css/bootstrap.min.css"> -->
</head>

<body>
    <div style="width: 75%; margin: auto;">
        <h1 style="text-align: center;">Chatter Box!</h1>
        <div style="float: left;">
            <div>
                <input type="text" id="name" placeholder="Your Name">
            </div>
            <div style="margin-top: 5px;">
                <form onsubmit="sendMessage()">
                    <input style="width: 300px;" type="text" id="message" placeholder="Type your message here">
                </form>
            </div>
        </div>
        <div style="float: left; overflow: auto; height: 70%; margin-left: 10px; width: 310px;">
            <div id="chat-window">
            </div>
        </div>
    </div>
    <!-- <script type="text/javascript" src="app.module.js"></script>
    <script type="text/javascript" src="node_modules/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="node_modules/angular/angular.min.js"></script>
    <script type="text/javascript" src="node_modules/bootstrap/dist/js/bootstrap.min.js"></script> -->
</body>

</html>
